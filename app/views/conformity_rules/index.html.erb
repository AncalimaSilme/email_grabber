<h2><%= l('conformity_rules_page_title') %></h2>

<fieldset>
  <legend><%= l('conformity_rules.create_rule') %></legend>

  <%= form_for :conformity_rule  do |form| %>
      <%= l('conformity_rules.domain_name') %>
      <%= form.select :conformity_type, ConformityRule.Types.to_a.map { |type| type.reverse }, { :include_blank => false } %>
      <%= form.text_field :content %>
      <%= l('words.conformity') %>
      <%= form.select :project_id, Project.all.map { |p| [p.name, p.id] }, { :include_blank => false } %>
      <%= form.submit l('create') %>
  <% end %>

</fieldset>

<br/>

<table class="list">
  <thead>
      <th><%= l('conformity_rules.id') %></th>
      <th><%= l('conformity_rules.types') %></th>
      <th><%= l('conformity_rules.content') %></th>
      <th><%= l('conformity_rules.project') %></th>
      <th></th>
  </thead>
  <tbody>
  <% if !@conformity_rules.blank? %>
      <% @conformity_rules.each do |rule| %>
          <tr>
            <td><%= rule.id %></td>
            <td><%= conformity_rule_type_title rule.conformity_type %></td>
            <td><%= rule.content %></td>
            <td><%= link_to(rule.project.name, project_path(rule.project.identifier)) if rule.project %></td>
            <td><%= link_to(l(:button_delete), conformity_rule_path(rule), :method => :delete, :class => 'icon icon-del') %></td>
          </tr>
      <% end %>
  <% else %>
      <tr><td colspan="5"><%= l(:label_no_data) %></td></tr>
  <% end %>
  </tbody>
</table>